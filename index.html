<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">
        <meta name="title" content="CodeCake">
        <link rel="stylesheet" href="./codecake.css">
        <style>
            html, body {
                margin: 0;
                padding: 0;
                width: 100%;
                height: 100%;
            }

            #editor {
                width: 100%;
                height: 100%;
                border: 1px solid #ddd; /* Optional: Light gray border */
                box-sizing: border-box; /* Include padding and border in width/height */
                background-color: #fafafa;
                padding: 4px;
            }
        </style>        
    </head>
    <body >
        <div style="margin: 0 auto; padding: 20px; width: 50%; height: 50%; max-width: 800px;">
            <div id="editor"  ></div>
        </div>
        <button id="insertButton" style="margin: 20px;">Insert "Hello world"</button>
        <button id="getCode" style="margin: 20px;">Get Code</button>
        <script type="module">
            import * as CodeCake from "./codecake.js";

            var cake;
    
            const parent = document.getElementById("editor");
            const exampleCode = [
                `function sum(a, b) {`,
                `    return a + b;`,
                `};`,
                ``,
                `// Expected: 4`,
                `console.log(sum(2, 2));`,
            ];

            // Initialize example editor
            cake = CodeCake.create(parent, {
                code: exampleCode.join("\n"),
                className: "codecake-light",
                lineNumbers: true,
                highlight: code => CodeCake.highlight(code, "javascript"),
            });

            // Add event listener to the button
            document.getElementById("insertButton").addEventListener("click", () => {
                cake.insertCodeAtCursor("console.log('Hello world')");
            });
            document.getElementById("getCode").addEventListener("click", () => {
                alert(cake.getCode());
            });
        </script>
        <!-- highlight examples -->
    </body>
</html>
